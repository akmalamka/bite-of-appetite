FROM node:lts

ARG NUXT_SANITY_PROJECT_ID_ARG
ENV NUXT_SANITY_PROJECT_ID=${NUXT_SANITY_PROJECT_ID_ARG}

ARG NUXT_SANITY_DATASET_ARG
ENV NUXT_SANITY_DATASET=${NUXT_SANITY_DATASET_ARG}

ARG NUXT_SANITY_STUDIO_URL_ARG
ENV NUXT_SANITY_STUDIO_URL=${NUXT_SANITY_STUDIO_URL_ARG}

ARG NUXT_SANITY_API_READ_TOKEN_ARG
ENV NUXT_SANITY_API_READ_TOKEN=${NUXT_SANITY_API_READ_TOKEN_ARG}

ARG DEPLOY_ENV_ARG
ENV DEPLOY_ENV=${DEPLOY_ENV_ARG}

ENV PNPM_HOME="/pnpm"
ENV PATH="$PNPM_HOME:$PATH"
RUN corepack enable

ENTRYPOINT ["pnpm"]
